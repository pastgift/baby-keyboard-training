<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <title>æ‰“å­—ç»ƒä¹ </title>
</head>

<style type="text/css">
  body {
    margin: 0;
    padding: 0;
  }
  #container {
    background-color: lightblue;
    height: 100%;
    width: 100%;
    position: fixed;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .content {
    font-size: 300px;
    font-weight: bold;
    font-family: "Noto Color Emoji", "Twitter Color Emoji", sans-serif;
    text-shadow: 3px -3px 1px #fff;
    text-transform: uppercase;
    position: relative;
  }
  .debug {
    font-size: 40px !important;
  }
  .shake {
    animation: shake 2s infinite;
  }
  @keyframes shake {
    from {
      left: 50px;
    }
    50% {
      left: -50px;
    }
    to {
      left: 50px;
    }
  }
</style>

<body>
  <div id="container">
    <span id="key" class="content"></span>
  </div>
</body>

<script type="text/javascript">
const WORDS = [
  'abcdefg',
  'the', 'be', 'to', 'of', 'and',
  'hijklmn',
  'a', 'in', 'that', 'have', 'I',
  'opqrst',
  'it', 'for', 'not', 'on', 'with',
  'uvwxyz',
  'he', 'as', 'you', 'do', 'at',
  'this', 'but', 'his', 'by', 'from',
  'they', 'we', 'say', 'her', 'she',
  'or', 'an', 'will', 'my', 'one',
  'all', 'would', 'there', 'their', 'what',
  'so', 'up', 'out', 'if', 'about',
  'who', 'get', 'which', 'go', 'me',
  'when', 'make', 'can', 'like', 'time',
  'no', 'just', 'him', 'know', 'take',
  'person', 'into', 'year', 'your', 'good',
  'some', 'could', 'them', 'see', 'other',
  'than', 'then', 'now', 'look', 'only',
  'come', 'its', 'over', 'think', 'also',
  'back', 'after', 'use', 'two', 'how',
  'our', 'work', 'first', 'well', 'way',
  'even', 'new', 'want', 'because', 'any',
  'these', 'give', 'day', 'most', 'us',
];
const CHARS = WORDS.join('').toLowerCase();
const EMOJI = [
  'ðŸ˜€', 'ðŸ˜ƒ', 'ðŸ˜„', 'ðŸ˜', 'ðŸ˜†', 'ðŸ¤£', 'ðŸ˜˜', 'ðŸ˜›', 'ðŸ˜œ',
  'ðŸ¥³', 'ðŸ¤¡', 'ðŸŽƒ', 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦',
  'ðŸ‘ž', 'ðŸ‘Ÿ', 'ðŸ¥¾', 'ðŸ§¦', 'ðŸŽ’', 'ðŸ‘“',
  'ðŸ£', 'ðŸ¥', 'ðŸ¦†', 'ðŸ¦‰', 'ðŸ¢', 'ðŸ¦Ž', 'ðŸ¦–', 'ðŸ¦•', 'ðŸ™', 'ðŸ¦€', 'ðŸ¦ž',
  'ðŸ¡', 'ðŸ ', 'ðŸŸ', 'ðŸ¬', 'ðŸ³', 'ðŸ‹', 'ðŸ¦ˆ', 'ðŸŠ',
  'ðŸ…', 'ðŸ†', 'ðŸ¦“', 'ðŸ˜', 'ðŸ‚', 'ðŸ„', 'ðŸ–', 'ðŸ', 'ðŸŽ',
  'ðŸ‘', 'ðŸˆ', 'ðŸ•', 'ðŸ“', 'ðŸ¦¢', 'ðŸ¦œ', 'ðŸ¦©', 'ðŸ¦', 'ðŸ•Š', 'ðŸ‡',
  'ðŸŽ„', 'ðŸŒ¿', 'â˜˜ï¸', 'ðŸ€', 'ðŸš', 'ðŸŒ¾', 'ðŸŒ¹', 'ðŸŒ¼', 'ðŸŒ»', 'ðŸŒ¸',
  'â˜€ï¸', 'ðŸŒ¤', 'ðŸŒ§', 'ðŸŒ¦', 'â„ï¸', 'â˜ƒï¸', 'â˜”ï¸',
  'ðŸŽ', 'ðŸ', 'ðŸŠ', 'ðŸ‹', 'ðŸŒ', 'ðŸ‰', 'ðŸ‡', 'ðŸ“', 'ðŸ‘', 'ðŸ', 'ðŸ¥¥', 'ðŸ…', 'ðŸ¥¦', 'ðŸ¥¬', 'ðŸŒ½', 'ðŸ¥•',
  'ðŸ¥', 'ðŸ¥–', 'ðŸž', 'ðŸŒ­', 'ðŸœ', 'ðŸ¤', 'ðŸ', 'ðŸ¥„', 'ðŸ¥£',
  'âš½ï¸', 'ðŸ€', 'ðŸ', 'ðŸŽ®', 'ðŸš©', 'ðŸ‡¨ðŸ‡³', 'ðŸ’®', 'ðŸ’¯',
  'ðŸš—', 'ðŸš•', 'ðŸš™', 'ðŸšŒ', 'ðŸšŽ', 'ðŸŽ', 'ðŸš“', 'ðŸš‘', 'ðŸš’', 'ðŸš', 'ðŸšš', 'ðŸšœ', 'ðŸ›º',
  'ðŸ›´', 'ðŸ›µ', 'ðŸ',
  'ðŸš˜', 'ðŸš–', 'ðŸš”', 'ðŸš',
  'ðŸšŸ', 'ðŸšƒ', 'ðŸš‹', 'ðŸš', 'ðŸš„', 'ðŸš…', 'ðŸšˆ', 'ðŸš‚', 'ðŸš†', 'ðŸš‡', 'ðŸšŠ', 'ðŸš‰',
  'âœˆï¸', 'ðŸ›©', 'ðŸš', 'ðŸ›«', 'ðŸ›¬', 'ðŸš€',
  'ðŸ›³', 'â›´', 'ðŸš¢', 'ðŸš¤', 'ðŸ›¥', 'â›µï¸',
  'ðŸ°', 'ðŸ ', 'ðŸ¡', 'ðŸ˜', 'ðŸ—', 'ðŸ¢', 'ðŸ¬', 'ðŸ£', 'ðŸ¤', 'ðŸ¥', 'ðŸ¦', 'ðŸ¨', 'ðŸª', 'ðŸ«', 'ðŸ©', 'ðŸ’’', 'â›ªï¸',
  'ðŸŽ‘', 'ðŸž', 'ðŸŒ…', 'ðŸŒ ', 'ðŸŽ‡', 'ðŸŽ†', 'ðŸŒ‡', 'ðŸŒ†', 'ðŸ™', 'ðŸŒƒ', 'ðŸŒŒ', 'ðŸŒ‰', 'ðŸŒ',
  'ðŸ“±', 'ðŸ’»', 'âŒ¨ï¸', 'ðŸ–¥', 'â°', 'ðŸš½', 'ðŸ§»', 'ðŸš°', 'ðŸ§¼', 'ðŸ§´', 'ðŸšª', 'ðŸª‘', 'ðŸ§¸', 'ðŸ“•', 'ðŸ“š',
];

const genRandomChar = (chars) => {
  let i = parseInt(Math.random() * chars.length);
  return chars[i];
}

let charIndex = -1;
const getNextChar = (chars) => {
  charIndex++;
  return chars[charIndex % chars.length];
}

const $key = document.getElementById('key');
let targetKey = null;
let isBusy = false;
window.addEventListener('keypress', ev => {
  if (isBusy) {
    return;
  } else {
    isBusy = true;
  }

  console.log(ev.key)

  $key.classList.remove('debug');
  if (ev.key === '`') {
    $key.innerHTML = EMOJI.join(' ');
    $key.classList.add('debug');

    isBusy = false;

  } else {
    if (ev.key && ev.key.toLowerCase() == targetKey.toLowerCase()) {
      $key.innerHTML = genRandomChar(EMOJI);
      $key.classList.add('shake');

      setTimeout(() => {
        $key.innerHTML = targetKey = getNextChar(CHARS);
        $key.classList.remove('shake');

        isBusy = false;

      }, 3000);

    } else {
      isBusy = false;
    }
  }
});

$key.innerHTML = targetKey = getNextChar(CHARS);
</script>
</html>
